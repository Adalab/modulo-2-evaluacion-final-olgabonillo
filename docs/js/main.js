const d=document.querySelector(".js-tittle-search"),h=document.querySelector(".js-button"),u="https://api.jikan.moe/v4/anime?q=",f="https://api.jikan.moe/v4/anime/";document.querySelector(".js-series");const S=document.querySelector(".js-button-reset"),l=document.querySelector(".js-container-father-favorites"),g="https://cdn.myanimelist.net/img/sp/icon/apple-touch-icon-256.png",v="https://via.placeholder.com/210x295/ffffff/666666/?text=TV";let t;h.addEventListener("click",o=>{o.preventDefault(),console.log("La URL completa es: "+u+d.value),fetch(u+d.value).then(function(e){return e.json()}).then(function(e){console.log("esto es lo que tiene object: ",e),console.log("esto es lo que tiene object.data: ",e.data);const s=document.querySelector(".js-results");s.innerHTML='<h2 class="results-title">Resultados:</h2>',e.data.forEach(function(n){console.log("data",n);let i=n.images.webp.image_url;const a=n.title,m=n.mal_id;i===g&&(i=v),console.log("esta es la imagen de la pelicula: ",i),console.log("este es el titulo de la pelicula: ",a),s.innerHTML+=`<div class="js-series-card series-card" id="${m}"><img src="${i}"/><h3>${a}</h3></div>`});const r=document.querySelectorAll(".js-series-card");for(const n of r)n.addEventListener("click",j)})});localStorage.getItem("favorites")?t=JSON.parse(localStorage.getItem("favorites")):(t=[],localStorage.setItem("favorites",JSON.stringify(t)));const p=o=>{const e=o.currentTarget.getAttribute("id"),s=t.indexOf(e);delete t[s],localStorage.setItem("favorites",JSON.stringify(t)),c()};function y(o,e){console.log("url de la api para recoger una carta: ",f+o),fetch(f+o).then(function(s){return s.json()}).then(function(s){console.log("esto es el data dentro de showBoxSeriesById: ",s);const r=s.data.images.webp.image_url,n=s.data.title,i=s.data.mal_id;r===g&&(r=v),e.innerHTML+=`<div class="js-series-card-favorite series-card-favorites" id="${i}"><img src="${r}"/><h3>${n}</h3><button id="${i}" class="js-remove-button">X</button></div>`,document.querySelector(".js-remove-button").addEventListener("click",p)})}const j=o=>{o.preventDefault(),l.classList.remove("hidden");const e=o.currentTarget.getAttribute("id");console.log("data id:",e),document.getElementById(e).classList.add("favorite"),console.log("esto es lo que contiene event: ",o),t.includes(e)||(t.push(e),localStorage.setItem("favorites",JSON.stringify(t)),c()),console.log("esto son los id de las series favorites: ",t)};function c(){if(console.log("tamaño de favorites: ",t.length,t),t.length){console.log("Estoy dentro de favortes.length"),l.classList.remove("hidden");const o=document.querySelector(".js-favorites-series");o.innerHTML='<h2 class="favorites-series-title">Series favoritas:</h2>';const e=JSON.parse(localStorage.getItem("favorites"));for(const s of e)y(s,o)}else l.classList.add("hidden")}c();const L=o=>{t=[],localStorage.setItem("favorites",JSON.stringify(t)),t.innerHTML="",console.log("esto es un botón de reset")};S.addEventListener("click",L);
//# sourceMappingURL=main.js.map
