const l=document.querySelector(".js-tittle-search"),v=document.querySelector(".js-button"),c="https://api.jikan.moe/v4/anime?q=",d="https://api.jikan.moe/v4/anime/";document.querySelector(".js-series");const u="https://cdn.myanimelist.net/img/sp/icon/apple-touch-icon-256.png",f="https://via.placeholder.com/210x295/ffffff/666666/?text=TV";let i;v.addEventListener("click",o=>{o.preventDefault(),console.log("La URL completa es: "+c+l.value),fetch(c+l.value).then(function(e){return e.json()}).then(function(e){console.log("esto es lo que tiene object: ",e),console.log("esto es lo que tiene object.data: ",e.data);const t=document.querySelector(".js-results");t.innerHTML="<h2>Resultados:</h2>",e.data.forEach(function(s){console.log("data",s);let a=s.images.webp.image_url;const n=s.title,m=s.mal_id;a===u&&(a=f),console.log("esta es la imagen de la pelicula: ",a),console.log("este es el titulo de la pelicula: ",n),t.innerHTML+=`<div class="js-series-card series-card" id="${m}"><img src="${a}"/><h3>${n}</h3></div>`});const r=document.querySelectorAll(".js-series-card");for(const s of r)s.addEventListener("click",p)})});localStorage.getItem("favorites")?i=JSON.parse(localStorage.getItem("favorites")):(i=[],localStorage.setItem("favorites",JSON.stringify(i)));function h(o,e){console.log("url de la api para recoger una carta: ",d+o),fetch(d+o).then(function(t){return t.json()}).then(function(t){console.log("esto es el data dentro de showBoxSeriesById: ",t);const r=t.data.images.webp.image_url,s=t.data.title,a=t.data.mal_id;r===u&&(r=f),e.innerHTML+=`<div class="js-series-card-favorite series-card-favorites" id="${a}"><img src="${r}"/><h3>${s}</h3></div>`})}const p=o=>{o.preventDefault();const e=o.currentTarget.getAttribute("id");console.log("data id:",e),document.getElementById(e).classList.add("favorite"),console.log("esto es lo que contiene event: ",o),i.includes(e)||(i.push(e),localStorage.setItem("favorites",JSON.stringify(i)),g()),console.log("esto son los id de las series favorites: ",i)};function g(){const o=document.querySelector(".js-favorites-series");o.innerHTML="<h2>Series favoritas:</h2>";const e=JSON.parse(localStorage.getItem("favorites"));for(const t of e)console.log("estoy dentro de la funcion showfavoritesSeries, y este es el id de la favorita: ",t),h(t,o)}g();
//# sourceMappingURL=main.js.map
